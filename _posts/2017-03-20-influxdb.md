---
layout: post
title: "InfluxDB time-series SQL-like database"
excerpt: "Open-source programmed in Go to be fast and scalable"
tags: [apple, mac, setup, VMWare, Fusion]
filename: "influxdb.md"
shorturl: "https://goo.gl/"
image:
# feature: pic white robots woman 1900x500.jpg
  feature: https://cloud.githubusercontent.com/assets/300046/14622167/45abd918-0585-11e6-8537-a58e0b55e3ec.jpg
  credit: Cyberconstruct.be
  creditlink: http://cyberconstruct.be/2015/02/digital-job-crafting/
comments: true
---
<i>{{ page.excerpt }}</i>
<hr />

{% include _toc.html %}

This page contains my notes on learning and using InfluxDB for managing and analyzing time-series data.

## Advantages

InfluxDB is/has:

   * Open-source (MIT)
   * No external dependencies (written in Go)
   * <a href="#Query">SQL-like query language</a>
   * <a href="#LineProtocol">Input data "Line Format" (not exactly JSON)</a>
   * Stores data in compressed format
   * Horizontally scaleable (across several servers)
   * <a href="#Anomalies">Kapacitor component recognizes anomalies</a>
   * <a href="#TensorFlow">Integrates with TensorFlow</a>
   <br /><br />

<a target="_blank" href="https://vimeo.com/158285230">
VIDEO: Getting Started with Time-Series and InfluxDB Fundamentals</a>


<a name="TensorFlow"></a>

## Integrates with TensorFlow

See <a target="_blank" href="https://vimeo.com/202289126">
   video "How to Manage TensorFlow with InfluxData"</a>
   (The TensorFlow Jupyter notebook for weather prediction is shown from 17:24)



## Install Influx CLI

???


<a name="LineProtocol"></a>

## Line Protocol 

Influx DB does not use JSON, but a "line protocol" of its own design.

Numbers are assumed to be floating point by default. 

Integer values must have an "i" (such as <tt>value=12i</tt>).

Since the Influx database is built for time series data,<br />
Date values do not have a label. 
DateTime stamps are <strong>19 digits</strong> consisting of the number of seconds since the 1970 Epoch,
plus 11 more numbers for a precise <strong>nanosecond</strong>, as in "1445299200000000000".

QUESTION: Sample code and libraries for clients communicating with the database.


<a name="DataImport"></a>

## Data Import

   <pre>
curl https://s3-us-west-2.amazonaws.com/influx-sample-data/NOAA.txt > NOAA_data.txt
influx -import -path=NOAA_data.txt -precision=s
influx
USE NOAA_water_database
precision rfc3339
SHOW SERIES
SHOW FIELD KEYS  # data types
   </pre>


<a name="Query"></a>

## Query

The InfluxDB CLI works with a SQL-like language.

To start

   <pre><strong>
   influx
   CREATE DATABASE mydb
   SHOW DATBASES
   USE mydb
   SELECT percentile(busy,90) FROM cpu WHERE time > now() - 1h
   SELECT MEAN(busy) FROM ... GROUP BY location
   SELECT * FROM h2o_quality GROUP by time(10m) ORDER BY time DESC LIMIT 4 WHERE time > now() - 1h
   </strong></pre>


<a name="Anomalies"></a>

## Kapacitor component recognizes anomalies

TODO: ?


## Benchmarks

InfluxDB created their own Storage Engine to define sharding distributing read/writes on several disks,
making sure. Indexing. Examples include InnoDB, MyISAM, Falcon, XtraDB (MySQL, etc.)

Influx claims "350,000 writes per second on commodity hardware".

<a target="_blank" href="https://vimeo.com/153802549">
Benchmarking InfluxDB Storage Engines: v0.10, v0.9,and v0.8</a>
by Todd Persen, VP of Engineering January 28, 2016

Time-Structured Merge (TSM) Tree

Built-in WAL with queryable in-memory cache


## Transformer functions

Influx is written the Go programming lanuage.


## Resources

https://www.spectory.com/blog/System%20monitoring%20with%20InfluxDB%20vs%20Elasticsearch

